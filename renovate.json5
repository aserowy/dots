{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended"
  ],
  "separateMajorMinor": true,
  "separateMinorPatch": true,
  "prConcurrentLimit": 0,
  "branchConcurrentLimit": 0,
  "minimumReleaseAge": "14 days",
  "customManagers": [
    {
      "customType": "regex",
      "managerFilePatterns": ["**/*.nix"],
      "matchStrings": [
        "\\s*image = \".+?:(?<currentValue>.+?)\"; # (?<datasource>.+?)\/(?<depName>.+?)@(?<versioning>.*)"
      ]
    },
    {
      "customType": "regex",
      "managerFilePatterns": ["cluster/charts/**/*.nix"],
      "matchStrings": [
        "repo\\s*=\\s*\"(?<registryUrl>.*?)\".*?\\n.*?chart\\s*=\\s*\"(?<depName>.*?)\".*?\\n.*?version\\s*=\\s*\"(?<currentValue>.*?)\".*?"
      ],
      "datasourceTemplate": "helm"
    }
  ]
}
